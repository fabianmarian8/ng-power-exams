{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["items", "generatedAt"],
  "properties": {
    "generatedAt": { "type": "string", "format": "date-time" },
    "latestSourceAt": { "type": "string", "format": "date-time" },
    "items": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["id", "source", "title", "publishedAt", "status"],
        "properties": {
          "id": { "type": "string" },
          "source": {
            "type": "string",
            "enum": ["TCN", "EKEDC", "KADUNA", "JED", "AEDC", "IBEDC", "IKEJA", "OTHER"]
          },
          "sourceName": { "type": "string" },
          "title": { "type": "string" },
          "summary": { "type": "string" },
          "publishedAt": { "type": "string", "format": "date-time" },
          "status": { "type": "string", "enum": ["PLANNED", "UNPLANNED", "RESTORED"] },
          "plannedWindow": {
            "type": "object",
            "properties": {
              "start": { "type": "string", "format": "date-time" },
              "end": { "type": "string", "format": "date-time" },
              "timezone": { "type": "string" }
            }
          },
          "affectedAreas": {
            "type": "array",
            "items": { "type": "string" }
          },
          "verifiedBy": {
            "type": "string",
            "enum": ["DISCO", "TCN", "MEDIA", "COMMUNITY", "UNKNOWN"]
          },
          "officialUrl": { "type": "string", "format": "uri" },
          "raw": { "type": "object" },
          "_score": { "type": "number" }
        }
      }
    },
    "planned": {
      "type": "array",
      "items": { "$ref": "#/properties/items/items" }
    }
  }
}
